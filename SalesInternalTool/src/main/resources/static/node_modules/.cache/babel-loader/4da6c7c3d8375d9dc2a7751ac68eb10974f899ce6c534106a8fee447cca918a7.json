{"ast":null,"code":"import * as React from 'react';\nimport CSSMotion from 'rc-motion';\nimport { render, unmount } from \"rc-util/es/React/render\";\nimport classNames from 'classnames';\nimport { getTargetWaveColor, getValidateContainer } from './util';\nvar WaveEffect = function WaveEffect(props) {\n  var className = props.className,\n    left = props.left,\n    top = props.top,\n    width = props.width,\n    height = props.height,\n    color = props.color,\n    borderRadius = props.borderRadius,\n    scale = props.scale;\n  var divRef = React.useRef(null);\n  var waveStyle = {\n    left: left,\n    top: top,\n    width: width,\n    height: height,\n    borderRadius: borderRadius.map(function (radius) {\n      return \"\".concat(radius, \"px\");\n    }).join(' '),\n    '--wave-scale': scale\n  };\n  if (color) {\n    waveStyle['--wave-color'] = color;\n  }\n  return /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: true,\n    motionAppear: true,\n    motionName: \"wave-motion\",\n    motionDeadline: 5000,\n    onAppearEnd: function onAppearEnd(_, event) {\n      var _a;\n      if (event.deadline || event.propertyName === 'opacity') {\n        var holder = (_a = divRef.current) === null || _a === void 0 ? void 0 : _a.parentElement;\n        unmount(holder).then(function () {\n          var _a;\n          (_a = holder.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(holder);\n        });\n      }\n      return false;\n    }\n  }, function (_ref) {\n    var motionClassName = _ref.className;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: divRef,\n      className: classNames(className, motionClassName),\n      style: waveStyle\n    });\n  });\n};\nfunction validateNum(value) {\n  return Number.isNaN(value) ? 0 : value;\n}\nexport default function showWaveEffect(container, node, className) {\n  var nodeStyle = getComputedStyle(node);\n  var nodeRect = node.getBoundingClientRect();\n  // Get wave color from target\n  var waveColor = getTargetWaveColor(node);\n  // Get border radius\n  var borderTopLeftRadius = nodeStyle.borderTopLeftRadius,\n    borderTopRightRadius = nodeStyle.borderTopRightRadius,\n    borderBottomLeftRadius = nodeStyle.borderBottomLeftRadius,\n    borderBottomRightRadius = nodeStyle.borderBottomRightRadius;\n  // Do scale calc\n  var offsetWidth = node.offsetWidth;\n  var scale = validateNum(nodeRect.width / offsetWidth);\n  // Create holder\n  var holder = document.createElement('div');\n  getValidateContainer(container).appendChild(holder);\n  render( /*#__PURE__*/React.createElement(WaveEffect, {\n    left: nodeRect.left,\n    top: nodeRect.top,\n    width: nodeRect.width,\n    height: nodeRect.height,\n    color: waveColor,\n    className: className,\n    scale: scale,\n    borderRadius: [borderTopLeftRadius, borderTopRightRadius, borderBottomRightRadius, borderBottomLeftRadius].map(function (radius) {\n      return validateNum(parseFloat(radius) * scale);\n    })\n  }), holder);\n}","map":{"version":3,"names":["React","CSSMotion","render","unmount","classNames","getTargetWaveColor","getValidateContainer","WaveEffect","props","className","left","top","width","height","color","borderRadius","scale","divRef","useRef","waveStyle","map","radius","join","createElement","visible","motionAppear","motionName","motionDeadline","onAppearEnd","_","event","_a","deadline","propertyName","holder","current","parentElement","then","removeChild","_ref","motionClassName","ref","style","validateNum","value","Number","isNaN","showWaveEffect","container","node","nodeStyle","getComputedStyle","nodeRect","getBoundingClientRect","waveColor","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","offsetWidth","document","appendChild","parseFloat"],"sources":["/Users/kaizhang/Desktop/Sales_InternalTool/sales_pipelinefrontend/node_modules/antd/es/_util/wave/WaveEffect.js"],"sourcesContent":["import * as React from 'react';\nimport CSSMotion from 'rc-motion';\nimport { render, unmount } from \"rc-util/es/React/render\";\nimport classNames from 'classnames';\nimport { getTargetWaveColor, getValidateContainer } from './util';\nconst WaveEffect = props => {\n  const {\n    className,\n    left,\n    top,\n    width,\n    height,\n    color,\n    borderRadius,\n    scale\n  } = props;\n  const divRef = React.useRef(null);\n  const waveStyle = {\n    left,\n    top,\n    width,\n    height,\n    borderRadius: borderRadius.map(radius => `${radius}px`).join(' '),\n    '--wave-scale': scale\n  };\n  if (color) {\n    waveStyle['--wave-color'] = color;\n  }\n  return /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: true,\n    motionAppear: true,\n    motionName: \"wave-motion\",\n    motionDeadline: 5000,\n    onAppearEnd: (_, event) => {\n      var _a;\n      if (event.deadline || event.propertyName === 'opacity') {\n        const holder = (_a = divRef.current) === null || _a === void 0 ? void 0 : _a.parentElement;\n        unmount(holder).then(() => {\n          var _a;\n          (_a = holder.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(holder);\n        });\n      }\n      return false;\n    }\n  }, _ref => {\n    let {\n      className: motionClassName\n    } = _ref;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: divRef,\n      className: classNames(className, motionClassName),\n      style: waveStyle\n    });\n  });\n};\nfunction validateNum(value) {\n  return Number.isNaN(value) ? 0 : value;\n}\nexport default function showWaveEffect(container, node, className) {\n  const nodeStyle = getComputedStyle(node);\n  const nodeRect = node.getBoundingClientRect();\n  // Get wave color from target\n  const waveColor = getTargetWaveColor(node);\n  // Get border radius\n  const {\n    borderTopLeftRadius,\n    borderTopRightRadius,\n    borderBottomLeftRadius,\n    borderBottomRightRadius\n  } = nodeStyle;\n  // Do scale calc\n  const {\n    offsetWidth\n  } = node;\n  const scale = validateNum(nodeRect.width / offsetWidth);\n  // Create holder\n  const holder = document.createElement('div');\n  getValidateContainer(container).appendChild(holder);\n  render( /*#__PURE__*/React.createElement(WaveEffect, {\n    left: nodeRect.left,\n    top: nodeRect.top,\n    width: nodeRect.width,\n    height: nodeRect.height,\n    color: waveColor,\n    className: className,\n    scale: scale,\n    borderRadius: [borderTopLeftRadius, borderTopRightRadius, borderBottomRightRadius, borderBottomLeftRadius].map(radius => validateNum(parseFloat(radius) * scale))\n  }), holder);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}